{{#ifCond user.Id_Rol '==' 1}}
<h2 class="text-center my-4">Actualizar Producto</h2>

<form action="/producto/actualizar" method="POST" class="container form-General p-4 border rounded shadow-sm" style="max-width: 600px; margin: 0 auto;">
    <input type="hidden" name="id_producto" value="{{producto.id_producto}}" />

    <!-- Nombre del producto -->
    <div class="form-group mb-3">
        <label for="nombre" class="form-label">Nombre del Producto <span style="color: red;">*</span></label>
        <input 
            type="text" 
            name="nombre" 
            id="nombre" 
            class="form-control" 
            value="{{producto.nombre}}" 
            required
        >
    </div>

    <!-- Descripción -->
    <div class="form-group mb-3">
        <label for="descripcion" class="form-label">Descripción</label>
        <input 
            type="text" 
            name="descripcion" 
            id="descripcion" 
            class="form-control" 
            value="{{producto.descripcion}}"
        >
    </div>

    <!-- Precio -->
    <div class="form-group mb-3">
        <label for="precio_unitario" class="form-label">Precio Unitario <span style="color: red;">*</span></label>
        <input 
            type="number" 
            step="0.01" 
            name="precio_unitario" 
            id="precio_unitario" 
            class="form-control" 
            value="{{producto.precio_unitario}}" 
            required
        >
    </div>

    <!-- Umbral mínimo -->
    <div class="form-group mb-3">
        <label for="umbral_minimo" class="form-label">Umbral Mínimo <span style="color: red;">*</span></label>
        <input 
            type="number" 
            name="umbral_minimo" 
            id="umbral_minimo" 
            class="form-control" 
            value="{{producto.umbral_minimo}}" 
            required
        >
    </div>

    <!-- Categoría -->
    <div class="form-group mb-3">
        <label for="id_categoria" class="form-label">Categoría <span style="color: red;">*</span></label>
        <select name="id_categoria" id="id_categoria" class="form-control" required>
            {{#each categoria}}
                <option 
                    value="{{this.id_categoria}}" 
                    {{#ifCond this.id_categoria '==' ../producto.id_categoria}}selected{{/ifCond}}
                >
                    {{this.nombre_categoria}}
                </option>
            {{/each}}
        </select>
    </div>

    <!-- Proveedor -->
    <div class="form-group mb-4">
        <label for="id_proveedor" class="form-label">Proveedor <span style="color: red;">*</span></label>
        <select name="id_proveedor" id="id_proveedor" class="form-control" required>
            {{#each proveedor}}
                <option 
                    value="{{this.id_proveedor}}" 
                    {{#ifCond this.id_proveedor '==' ../producto.id_proveedor}}selected{{/ifCond}}
                >
                    {{this.nombre_comercial}}
                </option>
            {{/each}}
        </select>
    </div>

    <!-- Botones -->
    <div class="text-center">
        <button type="submit" class="btn btn-success me-2">Actualizar</button>
        <a href="/producto/table" class="btn btn-secondary">Cancelar</a>
    </div>
</form>

{{else ifCond user.Id_Rol '==' 2}}
<h2 class="text-center my-4">Acceso Denegado</h2>
<div class="container acceso-denegado text-center">
    <p>No tiene permisos para acceder a esta página.</p>
    <a href="/dashboard" class="btn btn-danger mt-3">Volver al Inicio</a>
</div>
{{/ifCond}}
