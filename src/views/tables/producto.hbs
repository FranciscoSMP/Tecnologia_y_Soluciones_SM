{{#if success_msg}}
<div id="success-alert" class="alert-overlay alert-center fade-out">
    <div class="col-md-2">
        <div class="alert alert-success text-center">{{success_msg}}</div>
    </div>
</div>
{{/if}}
{{#ifCond user.Id_Rol '==' 1}}
<div class="container my-4">
    <h2 class="text-center mb-4">Lista de Productos</h2>
    {{#if producto.length}}
    <table class="table table-hover table-bordered">
        <thead class="thead-dark">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">SKU</th>
                <th scope="col">Nombre</th>
                <th scope="col">Descripción</th>
                <th scope="col">Precio Unitario</th>
                <th scope="col">Stock Actual</th>
                <th scope="col">Umbral Mínimo</th>
                <th scope="col">Categoría</th>
                <th scope="col">Proveedor</th>
                <th scope="col">Acciones</th>

            </tr>
        </thead>
        <tbody>
            {{#each producto}}
            <tr>
                <td>{{this.id_producto}}</td>
                <td>{{this.sku}}</td>
                <td>{{this.nombre}}</td>
                <td>{{this.descripcion}}</td>
                <td>{{this.precio_unitario}}</td>
                <td>{{this.stock_actual}}</td>
                <td>{{this.umbral_minimo}}</td>
                <td>{{this.nombre_categoria}}</td>
                <td>{{this.nombre_comercial}}</td>
                <td>
                    <a href="/producto/editar/{{this.id_producto}}"
                        class="btn btn-sm btn-warning me-2">Editar</a>
                    <button type="submit" class="btn btn-sm btn-danger" data-bs-toggle="modal"
                        data-bs-target="#confirmDeleteModal"
                        onclick="setDeleteModal('el producto', '{{this.nombre}}', 'producto', '{{this.id_producto}}')">
                        Eliminar
                    </button>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>
    {{else}}
    <div class="alert alert-warning text-center">No hay productos disponibles en este momento.</div>
    {{/if}}
</div>
{{else ifCond user.Id_Rol '==' 2}}
<h2 class="text-center my-4">Acceso Denegado</h2>
<div class="container acceso-denegado">
    <p class="text-center">No tiene permisos para acceder a esta página.</p>
    <div class="text-center mt-4">
        <a href="/dashboard" class="btn btn-danger">Volver al Inicio</a>
    </div>
</div>
{{/ifCond}}